<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="utf-8"/>
		<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
		<meta name="HandheldFriendly" content="true"/>
		<meta name="MobileOptimized" content="320"/>
		<title>H5Plugin</title>
		<script type="text/javascript" src="./js/common.js"></script>
		<script type="text/javascript" src="./js/test.js"></script>
		<script type="text/javascript">
		document.addEventListener('plusready',function(){
		// Android´¦Àí·µ»Ø¼ü
		plus.key.addEventListener('backbutton',function(){
				plus.runtime.quit();
		},false);
		},false);

  		function pluginShow() {
            plus.plugintest.PluginTestFunction("Html5","Plus","AsyncFunction","MultiArgument!", function( result ) {alert( result[0]  + "_" + result[1]  + "_" + result[2]  + "_" + result[3] );},function(result){alert(result)});
        }
        
        function pluginShowArrayArgu() {
            plus.plugintest.PluginTestFunctionArrayArgu( ["Html5","Plus","AsyncFunction","ArrayArgument!"], function( result ) {alert( result );},function(result){alert(result)});
        }
        
        function pluginGetString()
        {
            alert(plus.plugintest.PluginTestFunctionSync("Html5","Plus","SyncFunction","MultiArgument!"));
        }
        
        function pluginGetStringArrayArgu()
        {
            var Argus = plus.plugintest.PluginTestFunctionSyncArrayArgu(["Html5","Plus","SyncFunction","ArrayArgument!"]);
            alert( Argus.RetArgu1 + "_" +  Argus.RetArgu2 + "_" + Argus.RetArgu3  + "_" + Argus.RetArgu4 );
        }
    
		</script>
		<link rel="stylesheet" href="./css/common.css" type="text/css" charset="utf-8"/>
	</head>
	<body>
<<<<<<< HEAD
		<header>
			<div class="nvbt" onclick="back();"><div class="iback"></div></div>
			<div class="nvtt">PluginTest</div>
		</header>
		<div id="dcontent" class="dcontent">
			<br/>
			 <div class="button" onclick="pluginShow()">PluginTestFunction()</div>
            <div class="button" onclick="pluginShowArrayArgu()">PluginTestFunctionArrayArgu()</div>
            <div class="button" onclick="pluginGetString()">PluginTestFunctionSync()</div>
            <div class="button" onclick="pluginGetStringArrayArgu()">PluginTestFunctionSyncArrayArgu()</div>	
			<br/>
=======
		
		<div class="mui-content">
			<ul id="list" class="mui-table-view mui-table-view-chevron">
				<li class="mui-table-view-cell">

					<a class="mui-navigate-right" href="html/log	in.html">login</a>

				</li>


				<li class="mui-table-view-cell" >

					 <p class="heading">åˆ†äº«ç½‘é¡µï¼š</p>
			<table style="width:100%;">
				<tbody>
					<tr>
						<td style="width:20%;text-align:right;font-size:12px;">ç½‘é¡µåœ°å€</td>
						<td style="width:65%">
              <input id="web_href" class="share_input" type="url" value="https://www.baidu.com/" placeholder="è¯·è¾“å…¥è¦åˆ†äº«çš„ç½‘é¡µåœ°å€"/>
            </td>
					</tr>
					<tr>
						<td style="width:20%;text-align:right;font-size:12px;">ç½‘é¡µæ ‡é¢˜</td>
						<td style="width:65%">
              <input id="web_title" class="share_input" type="url" value="æµ‹è¯•æµ‹è¯•" placeholder="è¯·è¾“å…¥è¦åˆ†äº«çš„ç½‘é¡µåœ°å€"/>
            </td>
					</tr>
					<tr>
						<td style="width:20%;text-align:right;font-size:12px;">ç½‘é¡µæè¿°</td>
						<td style="width:65%">
              <input id="web_content" class="share_input" type="url" value="æµ‹è¯•æµ‹è¯•ï¼Œèµ¶ç´§è·Ÿæˆ‘ä¸€èµ·æ¥ä½“éªŒï¼" placeholder="è¯·è¾“å…¥è¦åˆ†äº«çš„ç½‘é¡µæè¿°"/>
            </td>
					</tr>
				</tbody>
			</table>
      <p class="des">åˆ†äº«ç½‘é¡µéœ€è¦è®¾ç½®ç¼©ç•¥å›¾ï¼Œå¦åˆ™å¯èƒ½ä¼šåˆ†äº«å¤±è´¥ã€‚</p>
      <div class="button" onclick="shareWeb()">åˆ†äº«ç½‘é¡µ</div>
      
      <p class="heading">åˆ†äº«æ–‡æœ¬ï¼š</p>
			<textarea id="text_title" class="sharecontent" rows="3">æµ‹è¯•æµ‹è¯•æµ‹è¯•</textarea>
      <p class="des">æ³¨æ„ï¼šQQåˆ†äº«Androidå¹³å°éœ€è®¾ç½®é“¾æ¥åœ°å€ï¼ˆiOSå¯é€‰ï¼‰ã€‚</p>
      <div class="button" onclick="shareText()">åˆ†äº«æ–‡æœ¬</div>
      

				</li>

		</ul>
>>>>>>> 358f876403f777e308e6371f28f7ad9586664ab2
		</div>
	</body>
<<<<<<< HEAD
=======
	<script src="js/mui.min.js"></script>
	<script src="js/jquery-2.1.1.min.js"></script>
	<script src="js/app.js"></script>
	<script src="js/myStorage.js"></script>
	<script src="html5plus://ready"></script>
	<script>
		
//		 window.location.href = "http://project.youzewang.com/app/app.html";
		
		
var sweixin=null;
var buttons=[
  {title:'æˆ‘çš„å¥½å‹',extra:{scene:'WXSceneSession'}},
  {title:'æœ‹å‹åœˆ',extra:{scene:'WXSceneTimeline'}},
  {title:'æˆ‘çš„æ”¶è—',extra:{scene:'WXSceneFavorite'}}
];
// H5 plusäº‹ä»¶å¤„ç†
function plusReady(){
//	return;
	//è¯»å–æœ¬åœ°å­˜å‚¨ï¼Œæ£€æŸ¥æ˜¯å¦ä¸ºé¦–æ¬¡å¯åŠ¨
				var showGuide = plus.storage.getItem("lauchFlag");

				//ä»…æ”¯æŒç«–å±æ˜¾ç¤º
				plus.screen.lockOrientation("portrait-primary");
				if(showGuide) {
					//æœ‰å€¼ï¼Œè¯´æ˜å·²ç»æ˜¾ç¤ºè¿‡äº†ï¼Œæ— éœ€æ˜¾ç¤ºï¼›
					//å…³é—­splashé¡µé¢ï¼›
					plus.navigator.closeSplashscreen();
					plus.navigator.setFullscreen(false);
					
					if(myStorage && myStorage.getItem("user")){
						//å¦‚æœæœ‰å€¼ï¼Œè¯æ˜ç™»å½•è¿‡äº†
						mui.openWindow({
							id: 'home.html',
							url: 'html/home.html',
							waiting: {
								autoshow: false
							}
						});
					}else{
						//æ²¡æœ‰ç™»å½•
						mui.openWindow({
							id: 'login.html',
							url: 'html/login.html',
							waiting: {
								autoshow: false
							}
						});
					}
				
				} else {
					//æ˜¾ç¤ºå¯åŠ¨å¯¼èˆª
					mui.openWindow({
						id: 'guide',
						url: 'html/guide.html',
						styles: {
							popGesture: "none"
						},
						show: {
							aniShow: 'none'
						},
						waiting: {
							autoShow: false
						}
					});
				
				}

	
	updateSerivces();


plus.io.requestFileSystem( plus.io.PRIVATE_WWW, function(fs){
		// fs.rootæ˜¯æ ¹ç›®å½•æ“ä½œå¯¹è±¡DirectoryEntry
		// åˆ›å»ºè¯»å–ç›®å½•ä¿¡æ¯å¯¹è±¡ 
		var directoryReader = fs.root.createReader();
		directoryReader.readEntries( function( entries ){
			var i;
			for( i=0; i < entries.length; i++ ) {
				//console.log( entries[i] );
			}
		}, function ( e ) {
			alert( "Read entries failed: " + e.message );
		} );
	} );

plus.io.requestFileSystem( plus.io.PRIVATE_WWW, function( fs ) {
		// å¯é€šè¿‡fsæ“ä½œPRIVATE_WWWæ–‡ä»¶ç³»ç»Ÿ 
		var imgPath=fs.root.fullPath;
		console.log(fs);
		//alert(imgPath);
		

		plus.io.resolveLocalFileSystemURL( fs.root.fullPath+"images/error", function( entry ) {
		// å¯é€šè¿‡entryå¯¹è±¡æ“ä½œtest.htmlæ–‡ä»¶ 
		// entry.file( function(file){
		// 	var fileReader = new plus.io.FileReader();
		// 	console.log("getFile:" + JSON.stringify(file));
			//fileReader.readAsText(file, 'utf-8');
			// fileReader.onloadend = function(evt) {
			// 	console.log("11" + evt);
			// 	console.log("evt.target" + evt.target);
			// 	console.log(evt.target.result);
			// }
		// 	console.log(file.size + '--' + file.name);
		// } );

		console.log(entry);

var directoryReader = entry.createReader();
		directoryReader.readEntries( function( entries ){
			var i;
			for( i=0; i < entries.length; i++ ) {
				console.log( entries[i].name);
			}
		}, function ( e ) {
			alert( "Read entries failed: " + e.message );
		} );


	}, function ( e ) {
		console.log( "Resolve file URL failed: " + e.message );
	} );

	}, function ( e ) {
		console.log( "Request file system failed: " + e.message );
	} );


}


// åˆ›å»ºä¸‹è½½ä»»åŠ¡
function createDownload() {

	var dtask = plus.downloader.createDownload( "http://rb.pro.youzewang.com/public/assets/img/logo.png", {filename:"_www/images/error/"}, function ( d, status ) {
		// ä¸‹è½½å®Œæˆ

		alert();

		if ( status == 200 ) { 
			alert( "Download success: " + d.filename );
		} else {
			 alert( "Download failed: " + status ); 
		}  
	});
	//dtask.addEventListener( "statechanged", onStateChanged, false );
	dtask.start(); 
}


if(window.plus){
	plusReady();
}else{
	document.addEventListener('plusready', plusReady, false);
}

    /**
     * æ›´æ–°åˆ†äº«æœåŠ¡
     */
    function updateSerivces() {
        plus.share.getServices(function(s) {
            shares = {};
            for (var i in s) {
                var t = s[i];
                shares[t.id] = t;
            }
            sweixin = shares['weixin'];
            sqq = shares['qq'];
        }, function(e) {
            console.log('è·å–åˆ†äº«æœåŠ¡åˆ—è¡¨å¤±è´¥ï¼š' + e.message);
        });
    }



    // åˆ†äº«ç½‘é¡µ
    function shareWeb() {
        var msg = {
            type: 'web',
            thumbs: ['_www/logo.png']
        };
        if (!web_href.value) {
            plus.nativeUI.alert('è¯·è¾“å…¥åˆ†äº«ç½‘é¡µçš„é“¾æ¥åœ°å€!');
            web_href.focus();
            return;
        }
        msg.href = web_href.value;
        if (!web_title.value) {
            plus.nativeUI.alert('è¯·è¾“å…¥åˆ†äº«ç½‘é¡µçš„æ ‡é¢˜!');
            web_title.focus();
            return;
        }
        msg.title = web_title.value;
        if (!web_content.value) {
            plus.nativeUI.alert('è¯·è¾“å…¥åˆ†äº«ç½‘é¡µçš„æè¿°!');
            web_content.focus();
            return;
        }
        msg.content = web_content.value;
        sweixin ? plus.nativeUI.actionSheet({
            title: 'åˆ†äº«ç½‘é¡µåˆ°å¾®ä¿¡',
            cancel: 'å–æ¶ˆ',
            buttons: buttons
        }, function(e) {
            (e.index > 0) && share(sweixin, msg, buttons[e.index - 1]);
        }) : plus.nativeUI.alert('å½“å‰ç¯å¢ƒä¸æ”¯æŒå¾®ä¿¡åˆ†äº«æ“ä½œ!');
    }

    // åˆ†äº«
    function share(srv, msg, button) {
        console.log('åˆ†äº«æ“ä½œï¼š');
        if (!srv) {
            console.log('æ— æ•ˆçš„åˆ†äº«æœåŠ¡ï¼');
            return;
        }
        button && (msg.extra = button.extra);
        // å‘é€åˆ†äº«
        if (srv.authenticated) {
            console.log('---å·²æˆæƒ---');
            doShare(srv, msg);
        } else {
            console.log('---æœªæˆæƒ---');
            srv.authorize(function() {
                doShare(srv, msg);
            }, function(e) {
                console.log('è®¤è¯æˆæƒå¤±è´¥ï¼š' + JSON.stringify(e));
            });
        }
    }
    // å‘é€åˆ†äº«
    function doShare(srv, msg) {
        alert(JSON.stringify(msg));
        srv.send(msg, function() {
            alert('åˆ†äº«åˆ°"' + srv.description + '"æˆåŠŸï¼');
        }, function(e) {
            alert('åˆ†äº«åˆ°"' + srv.description + '"å¤±è´¥: ' + JSON.stringify(e));
        });
    }
    // è§£é™¤æˆæƒ
    function cancelAuth() {
        console.log('è§£é™¤æˆæƒï¼š');
        if (sweixin) {
            if (sweixin.authenticated) {
                console.log('å–æ¶ˆ"' + sweixin.description + '"');
            }
            sweixin.forbid();
        } else {
            console.log('å½“å‰ç¯å¢ƒä¸æ”¯æŒå¾®ä¿¡åˆ†äº«æ“ä½œ!');
        }
    }

    // åˆ†äº«æ–‡æœ¬ 
    function shareText() {
        var msg = {
            type: 'text'
        };
        if (!text_title.value) {
            plus.nativeUI.alert('è¯·è¾“å…¥è¦åˆ†äº«çš„å†…å®¹!');
            return;
        }
        msg.title = text_title.value;
        msg.href = 'https://www.baidu.com';
        sqq ? share(sqq, msg) : plus.nativeUI.alert('å½“å‰ç¯å¢ƒä¸æ”¯æŒQQåˆ†äº«æ“ä½œ!');
    }

    // åˆ†äº«
    function share1(srv, msg, button) {
        alert('åˆ†äº«æ“ä½œï¼š');
        if (!srv) {
            console.log('æ— æ•ˆçš„åˆ†äº«æœåŠ¡ï¼');
            return;
        }
        button && (msg.extra = button.extra);
        // å‘é€åˆ†äº«
        if (srv.authenticated) {
            console.log('---å·²æˆæƒ---');
            doShare1(srv, msg);
        } else {
            console.log('---æœªæˆæƒ---');
            srv.authorize(function() {
                doShare1(srv, msg);
            }, function(e) {
                console.log('è®¤è¯æˆæƒå¤±è´¥ï¼š' + JSON.stringify(e));
            });
        }
    }
    // å‘é€åˆ†äº«
    function doShare1(srv, msg) {
        console.log(JSON.stringify(msg));
        srv.send(msg, function() {
            console.log('åˆ†äº«åˆ°"' + srv.description + '"æˆåŠŸï¼');
        }, function(e) {
            console.log('åˆ†äº«åˆ°"' + srv.description + '"å¤±è´¥: ' + JSON.stringify(e));
        });
    }
    // è§£é™¤æˆæƒ
    function cancelAuth1() {
        alert('è§£é™¤æˆæƒï¼š');
        if (sqq) {
            if (sqq.authenticated) {
                console.log('å–æ¶ˆ"' + sqq.description + '"');
            }
            sqq.forbid();
        } else {
            console.log('å½“å‰ç¯å¢ƒä¸æ”¯æŒQQåˆ†äº«æ“ä½œ!');
        }
    }
</script>

>>>>>>> 358f876403f777e308e6371f28f7ad9586664ab2
</html>